{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Stefan\\\\Desktop\\\\FrontEnd\\\\ip-frontend\\\\src\\\\Components\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Layout from \"../../Containers/Layout\";\nimport styles from './Login.module.scss';\nimport MainContext from \"../../Context/provider/context\";\nimport { Input, Button } from 'antd';\nimport { MailOutlined, LockOutlined } from '@ant-design/icons';\nimport logo from \"../../login.png\";\nimport { Redirect } from 'react-router-dom';\nimport history from '../../Routes/history';\n\nconst content = (handleLogin, handleChange) => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.container,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.wrapper,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.inputContainer,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.logo,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 17\n  }\n}, /*#__PURE__*/React.createElement(\"img\", {\n  alt: 'logo',\n  src: logo,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 21\n  }\n})), /*#__PURE__*/React.createElement(Input, {\n  className: styles.input,\n  onChange: event => handleChange(event, 'email'),\n  size: \"large\",\n  placeholder: \"Email\",\n  prefix: /*#__PURE__*/React.createElement(MailOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 29\n    }\n  }),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 17\n  }\n}), /*#__PURE__*/React.createElement(Input.Password, {\n  className: styles.input,\n  onChange: event => handleChange(event, 'password'),\n  size: \"large\",\n  placeholder: \"Parola\",\n  prefix: /*#__PURE__*/React.createElement(LockOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 29\n    }\n  }),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 17\n  }\n})), /*#__PURE__*/React.createElement(\"button\", {\n  variant: \"contained\",\n  className: styles.button,\n  size: 'large',\n  onClick: () => handleLogin(),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 17\n  }\n}, \"LOGIN\")), /*#__PURE__*/React.createElement(Link, {\n  className: styles.link,\n  to: '/signup',\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 13\n  }\n}, \"Nu ai cont? Inregistreaza-te!\")));\n\nconst Login = props => {\n  _s();\n\n  const {\n    login,\n    isLogged\n  } = useContext(MainContext).profile;\n  const {\n    getProfile\n  } = useContext(MainContext).profile;\n  const [state, setState] = React.useState({\n    email: '',\n    password: ''\n  });\n\n  const handleChange = (event, field) => {\n    event.persist();\n    setState(prevState => {\n      return { ...prevState,\n        [field]: event.target.value\n      };\n    });\n  };\n\n  const handleLogin = () => {\n    login(state.email, state.password);\n  };\n\n  getProfile(state.email).then(result => {\n    if (isLogged) {\n      history.push({\n        pathname: '/profile',\n        state: {\n          data: result.data\n        }\n      });\n    }\n  }); // return (\n  //     <Redirect to={{\n  //         pathname:'/profile',\n  //         state: {data: ceva}}}/>\n  // );\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    content: content(handleLogin, handleChange),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  });\n};\n\n_s(Login, \"Vn/4RNi88D4+7VUchJ/ny5lLam0=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Stefan/Desktop/FrontEnd/ip-frontend/src/Components/Login/Login.js"],"names":["React","useContext","useEffect","Link","Layout","styles","MainContext","Input","Button","MailOutlined","LockOutlined","logo","Redirect","history","content","handleLogin","handleChange","container","wrapper","inputContainer","input","event","button","link","Login","props","login","isLogged","profile","getProfile","state","setState","useState","email","password","field","persist","prevState","target","value","then","result","push","pathname","data"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport Layout from \"../../Containers/Layout\";\nimport styles from './Login.module.scss';\nimport MainContext from \"../../Context/provider/context\";\nimport {Input, Button} from 'antd';\nimport {MailOutlined, LockOutlined} from '@ant-design/icons';\nimport logo from \"../../login.png\";\nimport {Redirect} from 'react-router-dom';\nimport history from '../../Routes/history'\n\nconst content = (handleLogin, handleChange) => (\n    <div className={styles.container}>\n        <div className={styles.wrapper}>\n            <div className={styles.inputContainer}>\n                <div className={styles.logo}>\n                    <img alt={'logo'} src={logo}/>\n                </div>\n                <Input\n                    className={styles.input}\n                    onChange={event => handleChange(event, 'email')}\n                    size=\"large\"\n                    placeholder=\"Email\"\n                    prefix={<MailOutlined/>}/>\n                <Input.Password\n                    className={styles.input}\n                    onChange={event => handleChange(event, 'password')}\n                    size=\"large\"\n                    placeholder=\"Parola\"\n                    prefix={<LockOutlined/>}\n                />\n            </div>\n            <button\n                    variant=\"contained\"\n                    className={styles.button}\n                    size={'large'}\n                    onClick={() => handleLogin()}\n            >\n                <p>LOGIN</p>\n            </button>\n            <Link className={styles.link} to={'/signup'}>Nu ai cont? Inregistreaza-te!</Link>\n        </div>\n    </div>\n);\nconst Login = props => {\n\n    const {login, isLogged} = useContext(MainContext).profile;\n    const {getProfile} = useContext(MainContext).profile;\n    const [state, setState] = React.useState({email: '', password: ''});\n\n    const handleChange = (event, field) => {\n        event.persist();\n        setState(prevState => {\n            return {\n                ...prevState,\n                [field]: event.target.value\n            };\n        });\n    };\n\n    const handleLogin = () => {\n        login(state.email, state.password)\n    };\n\n    getProfile(state.email).then(result => {\n        if (isLogged) {\n            history.push({\n                pathname: '/profile',\n                state: {data: result.data}\n            })\n        }    \n    })\n     \n        // return (\n        //     <Redirect to={{\n        //         pathname:'/profile',\n        //         state: {data: ceva}}}/>\n        // );\n    return (\n        <Layout content={content(handleLogin, handleChange)}/>\n    )\n};\n\n\nexport default Login;\n\n"]},"metadata":{},"sourceType":"module"}