{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Stefan\\\\Desktop\\\\FrontEnd\\\\ip-frontend\\\\src\\\\Components\\\\Profile\\\\Profile.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Layout from \"../../Containers/Layout\";\nimport styles from './profile.module.scss';\nimport popupstyle from './popup.css';\nimport 'antd/dist/antd.css';\nimport { Tabs } from 'antd';\nimport MainContext from \"../../Context/provider/context\";\nimport { useContext } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport PopUp from \"./PopUp\";\nimport PopUpResource from \"./PopUpResource\";\nimport PopUpReserve from \"./PopUpReserve\";\nimport PopUpAdd from \"./PopUpAdd\";\nconst {\n  TabPane\n} = Tabs;\nvar check = false;\nvar gotResources = false;\nvar itemTemp = '';\n\nfunction reserveButtons(item, togglePopReserve, unreserveResource, details) {\n  if (item.currentlyReservedBy === details.username) {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      className: styles.reserve_buton,\n      key: item,\n      onClick: () => {\n        unreserveResource(details.username, item.name);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }\n    }, \"Unreserve\");\n  } else {\n    if (item.status === 'BUSY') {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        className: styles.reserve_buton,\n        key: item,\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }\n      }, \"Reserve\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        className: styles.reserve_buton,\n        key: item,\n        onClick: () => {\n          itemTemp = item;\n          togglePopReserve();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }\n      }, \"Reserve\");\n    }\n  }\n}\n\nconst content = (details, members, resources, togglePop, togglePopResource, getUserProfile, getResourceProfile, togglePopReserve, unreserveResource, togglePopAdd, getResources) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.titlu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \" Profilul meu: \", details.username, /*#__PURE__*/React.createElement(Tabs, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TabPane, {\n    className: styles.continut0,\n    tab: \"Contul meu\",\n    key: \"1\",\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, \"Nume: \", details.firstname), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, \"Prenume: \", details.lastname, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \"Email: \", details.email), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, \"Nume utilizator: \", details.username), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"Nume organizatie: \", details.organizationName, \" \")), /*#__PURE__*/React.createElement(TabPane, {\n    className: styles.continut0,\n    tab: \"Membrii organizatie\",\n    key: \"2\",\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    component: \"nav\",\n    className: styles.continut0,\n    \"aria-label\": \"contacts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, members && members.map(function (item, i) {\n    return /*#__PURE__*/React.createElement(ListItem, {\n      button: true,\n      key: i,\n      onClick: () => {\n        getUserProfile(item.id).then(() => {\n          togglePop();\n        });\n      },\n      style: {\n        width: '20%',\n        marginLeft: '46%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, i, '. ', item.firstname, ' ', item.lastname));\n  }))), /*#__PURE__*/React.createElement(TabPane, {\n    className: styles.continut,\n    tab: \"Resurse\",\n    key: \"3\",\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.butonescu,\n    onClick: () => {\n      getResources(details.organizationId);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, \"Refresh resources\"), details.role === 'admin' ? /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.butonescu2,\n    onClick: () => {\n      togglePopAdd();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, \"Adauga resursa\") : null, /*#__PURE__*/React.createElement(List, {\n    component: \"nav\",\n    className: styles.continut0,\n    \"aria-label\": \"contacts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, resources && resources.map(function (item, i) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.div,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(ListItem, {\n      button: true,\n      key: i,\n      onClick: () => {\n        getResourceProfile(item.name).then(() => {\n          togglePopResource();\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 45\n      }\n    }, item.name, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 45\n      }\n    }, \"Status:\", item.status))), reserveButtons(item, togglePopReserve, unreserveResource, details));\n  })))));\n};\n\nconst Profile = () => {\n  _s();\n\n  const [modalShow, setModalShow] = React.useState(false);\n  const [resourceShow, setResourceShow] = React.useState(false);\n  const [reserveShow, setReserveShow] = React.useState(false);\n  const [addShow, setAddShow] = React.useState(false);\n  const {\n    getResources,\n    resources\n  } = useContext(MainContext).profile;\n  const {\n    details\n  } = useContext(MainContext).profile;\n  const {\n    getMembers,\n    members\n  } = useContext(MainContext).profile;\n  const {\n    getUserProfile\n  } = useContext(MainContext).profile;\n  const {\n    getResourceProfile\n  } = useContext(MainContext).profile;\n  const {\n    unreserveResource\n  } = useContext(MainContext).profile;\n\n  const togglePop = () => {\n    if (modalShow === false) {\n      setModalShow(true);\n    } else {\n      setModalShow(false);\n    }\n  };\n\n  const togglePopAdd = () => {\n    if (addShow === false) {\n      setAddShow(true);\n    } else {\n      setAddShow(false);\n    }\n  };\n\n  const togglePopResource = () => {\n    if (resourceShow === false) {\n      setResourceShow(true);\n    } else {\n      setResourceShow(false);\n    }\n  };\n\n  const togglePopReserve = () => {\n    if (reserveShow === false) {\n      setReserveShow(true);\n    } else {\n      setReserveShow(false);\n    }\n  };\n\n  if (gotResources === false) {\n    getResources(details.organizationId).then(() => {\n      gotResources = true;\n    });\n  }\n\n  if (check === false) {\n    getMembers(details.organizationId).then(() => {\n      check = true;\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Layout, {\n    content: content(details, members, resources, togglePop, togglePopResource, getUserProfile, getResourceProfile, togglePopReserve, unreserveResource, togglePopAdd, getResources),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, modalShow ? /*#__PURE__*/React.createElement(PopUp, {\n    className: popupstyle,\n    toggle: togglePop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 30\n    }\n  }) : null), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, resourceShow ? /*#__PURE__*/React.createElement(PopUpResource, {\n    className: popupstyle,\n    toggle: togglePopResource,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 33\n    }\n  }) : null), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, reserveShow ? /*#__PURE__*/React.createElement(PopUpReserve, {\n    className: popupstyle,\n    toggle: togglePopReserve,\n    itemTemp: itemTemp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 32\n    }\n  }) : null), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, addShow ? /*#__PURE__*/React.createElement(PopUpAdd, {\n    className: popupstyle,\n    toggle: togglePopAdd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 28\n    }\n  }) : null));\n};\n\n_s(Profile, \"IpFoH5cVV/LV08FEVz5CbLZoihs=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Users/Stefan/Desktop/FrontEnd/ip-frontend/src/Components/Profile/Profile.js"],"names":["React","Layout","styles","popupstyle","Tabs","MainContext","useContext","List","ListItem","PopUp","PopUpResource","PopUpReserve","PopUpAdd","TabPane","check","gotResources","itemTemp","reserveButtons","item","togglePopReserve","unreserveResource","details","currentlyReservedBy","username","reserve_buton","name","status","content","members","resources","togglePop","togglePopResource","getUserProfile","getResourceProfile","togglePopAdd","getResources","titlu","continut0","firstname","lastname","email","organizationName","map","i","id","then","width","marginLeft","continut","butonescu","organizationId","role","butonescu2","div","Profile","modalShow","setModalShow","useState","resourceShow","setResourceShow","reserveShow","setReserveShow","addShow","setAddShow","profile","getMembers"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Layout from \"../../Containers/Layout\";\nimport styles from './profile.module.scss';\nimport popupstyle from './popup.css'\nimport 'antd/dist/antd.css';\nimport { Tabs} from 'antd';\nimport MainContext from \"../../Context/provider/context\";\nimport {useContext} from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport PopUp from \"./PopUp\";\nimport PopUpResource from \"./PopUpResource\";\nimport PopUpReserve from \"./PopUpReserve\";\nimport PopUpAdd from \"./PopUpAdd\";\n\nconst { TabPane } = Tabs;\n\nvar check = false;\nvar gotResources = false;\nvar itemTemp = ''\n\nfunction reserveButtons(item, togglePopReserve, unreserveResource, details) {\n    if (item.currentlyReservedBy === details.username) {\n        return (\n        <button className={styles.reserve_buton} key={item} onClick={() => {\n            unreserveResource(details.username, item.name)\n        }}>\n            Unreserve\n        </button>);\n    } else {\n        if (item.status === 'BUSY') {\n            return (\n                <button className={styles.reserve_buton} key={item} disabled={true}>\n                    Reserve\n                </button>\n            );\n        } else {\n            return (\n                <button className={styles.reserve_buton} key={item} onClick={() => {\n                    itemTemp = item\n                    togglePopReserve()\n                }}>\n                    Reserve\n                </button>\n            );\n        }\n    }\n}\n\nconst content = (details, members, resources, togglePop, togglePopResource,\n    getUserProfile, getResourceProfile, togglePopReserve, unreserveResource, togglePopAdd, \n    getResources) => {\n    return (\n        <div className={styles.titlu}> Profilul meu: {details.username}\n            <Tabs>\n                <TabPane className={styles.continut0} tab=\"Contul meu\" key=\"1\" active>\n                    <p>Nume: {details.firstname}</p>\n                    <p>Prenume: {details.lastname} </p>\n                    <p>Email: {details.email}</p>\n                    <p>Nume utilizator: {details.username}</p>\n                    <p>Nume organizatie: {details.organizationName} </p>\n                </TabPane>\n                <TabPane className={styles.continut0} tab=\"Membrii organizatie\" key=\"2\" active>\n                    <List component=\"nav\" className={styles.continut0} aria-label=\"contacts\">\n                    {\n                        members && members.map(function(item, i) {\n                            return(\n                            <ListItem button key={i} onClick={() => {\n                                getUserProfile(item.id).then(() => {\n                                    togglePop()\n                                })}} style={{\n                                    width: '20%',\n                                    marginLeft: '46%'\n                                }}>\n                                <li>\n                                {i}{'. '}{item.firstname}{' '}{item.lastname}\n                                </li>\n                            </ListItem>)\n                        })\n                    }\n                    </List>\n                </TabPane>\n                <TabPane className={styles.continut} tab=\"Resurse\" key=\"3\" active>\n                    <button className={styles.butonescu} onClick={() => {\n                            getResources(details.organizationId)\n                        }}>\n                        Refresh resources        \n                    </button>\n                    {\n                        details.role === 'admin' ? (\n                        <button className={styles.butonescu2} onClick={() => {\n                            togglePopAdd()\n                        }}>\n                            Adauga resursa\n                        </button>) : (null)\n                    }\n                    <List component=\"nav\" className={styles.continut0} aria-label=\"contacts\">\n                        {\n                            resources && resources.map(function(item, i) {\n                                return(\n                                    <div className ={styles.div}>\n                                        <ListItem button key={i} onClick={() => {\n                                            getResourceProfile(item.name).then(() => {\n                                                togglePopResource()\n                                            })\n                                        }}>\n                                            <li>\n                                            {item.name}\n                                            <br/>\n                                            <p>Status:{item.status}</p>\n                                            </li>\n                                        </ListItem>\n                                        {reserveButtons(item, togglePopReserve, unreserveResource, details)}\n                                    </div>\n                                );\n                            })\n                        }\n                    </List>\n                </TabPane>\n            </Tabs>\n        </div>\n    )\n};\n\n\nconst Profile = () => {\n    \n    const [modalShow, setModalShow] = React.useState(false);\n    const [resourceShow, setResourceShow] = React.useState(false);\n    const [reserveShow, setReserveShow] = React.useState(false);\n    const [addShow, setAddShow] = React.useState(false);\n\n    const {getResources, resources} = useContext(MainContext).profile;\n    const {details} = useContext(MainContext).profile;\n    const {getMembers, members} = useContext(MainContext).profile;\n    const {getUserProfile} = useContext(MainContext).profile;\n    const {getResourceProfile} = useContext(MainContext).profile;\n    const {unreserveResource} = useContext(MainContext).profile;\n    \n    const togglePop = () => {\n        if (modalShow === false) {\n            setModalShow(true)\n        } else {\n            setModalShow(false)\n        }\n    }\n\n    const togglePopAdd = () => {\n        if (addShow === false) {\n            setAddShow(true)\n        } else {\n            setAddShow(false)\n        }\n    }\n\n    const togglePopResource = () => {\n        if (resourceShow === false) {\n            setResourceShow(true)\n        } else {\n            setResourceShow(false)\n        }\n    }\n\n    const togglePopReserve = () => {\n        if (reserveShow === false) {\n            setReserveShow(true)\n        } else {\n            setReserveShow(false)\n        }\n    }\n    if (gotResources === false) {\n        getResources(details.organizationId).then(() => {\n            gotResources = true\n        })\n    }\n    if (check === false) {\n        getMembers(details.organizationId).then(() => {\n            check = true;\n        })\n    }\n\n    return (\n        <div>\n            <Layout content={content(details, members, resources, togglePop, togglePopResource,\n                getUserProfile, getResourceProfile, togglePopReserve, unreserveResource, togglePopAdd, getResources)}/>\n            <div>\n                {modalShow ? <PopUp className={popupstyle} toggle={togglePop} /> : null}\n            </div>\n            <div>\n                {resourceShow ? <PopUpResource className={popupstyle} toggle={togglePopResource} /> : null}\n            </div>\n            <div>\n                {reserveShow ? <PopUpReserve className={popupstyle} toggle={togglePopReserve} itemTemp={itemTemp} /> : null}\n            </div>\n            <div>\n                {addShow ? <PopUpAdd className={popupstyle} toggle={togglePopAdd} /> : null}\n            </div>\n        </div>\n    )\n};\n\n\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}